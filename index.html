<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blockchain Auto-Trading Room</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body { font-family: Arial, sans-serif; background: #f1f1f1; margin: 0; padding: 0; }
    header { background: #25D366; color: #fff; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { margin: 0; font-size: 20px; }
    #backButton { display: none; cursor: pointer; padding: 10px 20px; font-size: 26px; color: #25D366; font-weight: bold; }
    .container { max-width: 700px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .nav-btn, .btn { background: #25D366; color: #fff; width: 100%; padding: 10px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; margin-bottom: 10px; }
    .hidden { display: none; }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; }
    input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
    .chat-box { height: 600px; overflow-y: auto; }
    .message.admin { background: #e1ffe1; border-left: 4px solid #25D366; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
    .asset-bar { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; }
    .asset { background: #fff; padding: 10px; border: 1px solid #ccc; border-radius: 5px; text-align: center; cursor: pointer; width: calc(33.33% - 10px); }
    .asset img { width: 30px; height: 30px; }
    .action-btn { display: inline-block; background: #25D366; color: #fff; text-decoration: none; padding: 10px 15px; border-radius: 5px; font-size: 14px; margin-top: 10px; }
    iframe.chart { width: 100%; height: 400px; border: none; margin-top: 20px; }
    .support-chat { text-align: center; margin-top: 20px; }
    .support-chat button { background: #25D366; color: #fff; padding: 10px 20px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; }
    .pop-message { background: #dff0ff; padding: 10px; border-left: 4px solid #25D366; margin: 10px 0; border-radius: 5px; font-size: 14px; }
    .media-card { width: 30%; background: #fff; border-radius: 10px; overflow: hidden; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .media-card img, .media-card video { width: 100%; display: block; }
    .media-card .caption { padding: 10px; font-size: 14px; font-weight: bold; }
    #mediaWall { display: flex; flex-wrap: wrap; gap: 15px; margin-top: 20px; }
  </style>
</head>
<body>
  <header>
    <h1>Blockchain Auto-Trading Room</h1>
    <div><i class="fab fa-whatsapp"></i></div>
  </header>
  <div id="backButton" onclick="goBack()">&lt;</div>

  <!-- Navigation -->
  <div class="container" id="navigationPage">
    <button class="nav-btn" onclick="showRegisterPage()">Join Live Trading Room</button>
    <button class="nav-btn" onclick="showLoginPage()">Login to Live Trading Account</button>
  </div>

  <!-- Register -->
  <div class="container hidden" id="registerPage">
    <h2>Join the Trading Room</h2>
    <div class="form-group"><label>Full Name</label><input type="text"/></div>
    <div class="form-group"><label>Username</label><input type="text"/></div>
    <div class="form-group"><label>Email</label><input type="email"/></div>
    <div class="form-group"><label>Country</label><input type="text" id="country" readonly/></div>
    <div class="form-group"><label>Password</label><input type="password"/></div>
    <div class="form-group"><label>Confirm Password</label><input type="password"/></div>
    <button class="btn" onclick="validateAndEnterRoom()">Join Room</button>
  </div>

  <!-- Login -->
  <div class="container hidden" id="loginPage">
    <h2>Login to Trading Room</h2>
    <div class="form-group"><label>Email</label><input type="email" id="loginEmail"/></div>
    <div class="form-group"><label>Password</label><input type="password" id="loginPassword"/></div>
    <button class="btn" onclick="loginUser()">Login</button>
  </div>

  <!-- Trading Room -->
  <div class="container hidden" id="tradingRoom">
    <div class="chat-box" id="chatBox">
      <div class="message admin">
        <strong>Admin:</strong> Welcome to the Trading Room ðŸš€
        <div class="asset-bar">
          <div class="asset" onclick="openAssetChart('bitcoin')"><img src="https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png"><div>BTC</div></div>
          <div class="asset" onclick="openAssetChart('ethereum')"><img src="https://assets.coingecko.com/coins/images/279/thumb/ethereum.png"><div>ETH</div></div>
          <div class="asset" onclick="openAssetChart('binancecoin')"><img src="https://assets.coingecko.com/coins/images/825/thumb/binance-coin-logo.png"><div>BNB</div></div>
        </div>
        <a class="action-btn" href="#">Join Live Trading</a>
      </div>
      <iframe class="chart" id="priceChart" src="https://www.coingecko.com/en/coins/bitcoin"></iframe>
      <div class="support-chat"><button onclick="openWhatsAppChat()"><i class="fab fa-whatsapp"></i> Chat with Admin</button></div>
    </div>
    <div id="popContainer"></div>
    <div id="successStories"></div>

    <h3 style="margin-top:30px;">ðŸš€ Member Success Stories</h3>
    <div id="mediaWall"></div>
  </div>

  <footer>; Blockchain Auto-Trading Room</footer>

  <script>
    const navigationStack = [];

    function showPage(pageId) {
      ['navigationPage','registerPage','loginPage','tradingRoom'].forEach(id => document.getElementById(id).classList.add('hidden'));
      const curr = document.querySelector('.container:not(.hidden)');
      if (curr) navigationStack.push(curr.id);
      document.getElementById(pageId).classList.remove('hidden');
      document.getElementById('backButton').style.display = pageId !== 'navigationPage' ? 'block' : 'none';
    }
    function goBack() { if (navigationStack.length) showPage(navigationStack.pop()); }
    function showRegisterPage(){ showPage('registerPage'); }
    function showLoginPage(){ showPage('loginPage'); }
    function validateAndEnterRoom(){ showPage('tradingRoom'); }
    function loginUser(){ showPage('tradingRoom'); }
    function openAssetChart(id){ document.getElementById('priceChart').src = `https://www.coingecko.com/en/coins/${id}`; }
    function openWhatsAppChat(){ window.open('https://wa.me/12096635424','_blank'); }

    // Set country automatically
    fetch("https://ipapi.co/json").then(r=>r.json()).then(d=>{ document.getElementById('country').value = d.country_name || 'Canada'; });

    const popups = [
      "Someone from Canada just joined the room",
      "Lucia from Brazil deposited $900",
      "Tanaka from Japan withdrew $1,200 profit",
      "Mark Donald just closed a spot trade",
      "Maria from Germany joined the live session"
    ];
    setInterval(()=>{
      const msg = document.createElement('div');
      msg.className = 'pop-message';
      msg.innerText = popups[Math.floor(Math.random()*popups.length)];
      document.getElementById('popContainer').prepend(msg);
    }, 75000);

    const successStories = [
      "âœ… Anna from UK earned $1,850 today.",
      "âœ… Sandra from UAE earned $980 in 24h.",
      "âœ… Boris from Russia hit $2,050.",
      "âœ… Carol from India completed 3 trades!",
      "âœ… Mikhail from Ukraine made $1,500 profit."
    ];
    let storyIndex = 0;
    function updateSuccessStory(){
      document.getElementById('successStories').innerHTML = `<div class="pop-message">${successStories[storyIndex]}</div>`;
      storyIndex = (storyIndex+1)%successStories.length;
    }

    const mediaItems = [
      { name: "Sasha from Russia", type: "video", url: "media/vid1.mp4", caption: "Success after 3 weeks" },
      { name: "Lena from Germany", type: "image", url: "media/img2.jpg", caption: "2nd payout confirmed" },
      { name: "Ahmed from UAE", type: "video", url: "media/vid2.mp4", caption: "Earned $1,500 on Binance bot" },
      { name: "Grace from UK", type: "image", url: "media/img3.jpg", caption: "Withdrawal proof shared" }
    ];

    function updateMediaWall() {
      const wall = document.getElementById('mediaWall');
      wall.innerHTML = '';
      const usedNames = new Set();
      const shuffled = [...mediaItems].sort(() => 0.5 - Math.random());
      for (const story of shuffled) {
        if (usedNames.has(story.name)) continue;
        usedNames.add(story.name);
        const card = document.createElement('div');
        card.className = 'media-card';
        card.innerHTML = story.type === 'video'
          ? `<video controls autoplay muted loop><source src="${story.url}" type="video/mp4"></video><div class="caption">${story.name}: ${story.caption}</div>`
          : `<img src="${story.url}" alt="${story.name}"/><div class="caption">${story.name}: ${story.caption}</div>`;
        wall.appendChild(card);
        if (wall.children.length >= 4) break;
      }
    }

    window.onload = () => {
      updateSuccessStory();
      updateMediaWall();
      setInterval(updateSuccessStory, 300000);
      setInterval(updateMediaWall, 300000);
    };
  </script>
</body>
</html>
